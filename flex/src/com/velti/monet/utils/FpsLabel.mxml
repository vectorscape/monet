<?xml version="1.0" encoding="utf-8"?>
<mx:Label xmlns:mx="http://www.adobe.com/2006/mxml"
		creationComplete="fpsText_creationCompleteHandler(event)" 
		 visible="{URLUtil.urlParams.debug == 'true'}">
	<mx:Script>
		<![CDATA[
			import flash.utils.getTimer;
			
			import mx.events.FlexEvent;
			
			protected var last:int = getTimer();
			protected var ticks:int = 0;
			
			protected function fpsText_creationCompleteHandler(event:FlexEvent):void {
				this.addEventListener(Event.ENTER_FRAME, this_enterFrame,false,0,true);
			}
			
			protected function this_enterFrame(event:Event):void {
				ticks++;
				var now:int = getTimer();
				var delta:int = now - last;
				if(delta > 1000) {
					var fps:Number = ticks / delta * 1000;
					this.text = "Fps :" + fps.toFixed();
					ticks = 0;
					last = now;
				}
			} 
			
		]]>
	</mx:Script>
</mx:Label>
